# ๐ ะะฐะฟััะบ ัะธััะตะผั ัะตะผ "Theme as a Package"

## โ ะงัะพ ะฑัะปะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### ๐๏ธ ะััะธัะตะบัััะฐ
- โ ะะพะปะฝะฐั ะธะทะพะปััะธั ัะตะผ ะฟะพ ะฟัะธะฝัะธะฟั "Theme as a Package"
- โ ะัะปััะธัะตะฝะฐะฝัะฝะฐั ะฟะพะดะดะตัะถะบะฐ ั ะธะทะพะปััะธะตะน ะบะพะฝัะธะณััะฐัะธะน
- โ ะะธะฝะฐะผะธัะตัะบะฐั ะทะฐะณััะทะบะฐ Vue.js ะบะพะผะฟะพะฝะตะฝัะพะฒ
- โ ะกะธััะตะผะฐ ะบะพะฝัะธะณััะฐัะธะธ ั JSON Schema
- โ Middleware ะดะปั ะพะฑัะปัะถะธะฒะฐะฝะธั ะฐััะตัะพะฒ ัะตะผ

### ๐๏ธ Backend
- โ ะะฑะฝะพะฒะปะตะฝะฝะฐั ะผะพะดะตะปั Theme ั ะฟะพะดะดะตัะถะบะพะน ะฟะฐะบะตัะพะฒ
- โ ะะพะดะตะปั ThemeConfig ะดะปั ัะตะฝะฐะฝััะบะธั ะฝะฐัััะพะตะบ
- โ ThemeManager ัะตัะฒะธั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะตะผะฐะผะธ
- โ ThemeServiceProvider ะดะปั ัะตะณะธัััะฐัะธะธ ะฒ ัะธััะตะผะต
- โ API ะบะพะฝััะพะปะปะตัั ะดะปั ัะฐะฑะพัั ั ัะตะผะฐะผะธ
- โ ะะดะผะธะฝัะบะธะต ะบะพะฝััะพะปะปะตัั ะดะปั ัะฟัะฐะฒะปะตะฝะธั

### ๐จ Frontend
- โ ThemeLoader ะดะปั ะดะธะฝะฐะผะธัะตัะบะพะน ะทะฐะณััะทะบะธ ัะตะผ
- โ ThemeComponent ะดะปั ัะตะฝะดะตัะธะฝะณะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ
- โ Composables ะดะปั ัะฐะฑะพัั ั ะบะพะฝัะธะณััะฐัะธะตะน
- โ ะะฑะฝะพะฒะปะตะฝะฝัะน tenant.js ั ะฟะพะดะดะตัะถะบะพะน ัะตะผ
- โ Middleware ะดะปั ะพะฑัะปัะถะธะฒะฐะฝะธั ััะฐัะธัะตัะบะธั ัะฐะนะปะพะฒ

### ๐ฏ ะัะธะผะตัั ัะตะผ
- โ Default Theme (ัะธััะตะผะฝะฐั ัะตะผะฐ)
- โ Minimal Theme (ะผะธะฝะธะผะฐะปะธััะธัะฝะฐั ัะตะผะฐ)
- โ ะะฐะทะพะฒะฐั ััััะบัััะฐ ะดะปั ัะพะทะดะฐะฝะธั ะฝะพะฒัั ัะตะผ

### ๐ง ะะฝััััะผะตะฝัั
- โ Artisan ะบะพะผะฐะฝะดั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะตะผะฐะผะธ
- โ ะะพะผะฐะฝะดะฐ ะดะปั ัะพะทะดะฐะฝะธั ะฝะพะฒัั ัะตะผ
- โ ะกะธะดะตัั ะดะปั ัััะฐะฝะพะฒะบะธ ะฑะฐะทะพะฒัั ัะตะผ
- โ ะะฑะฝะพะฒะปะตะฝะฝัะน Vite ะดะปั ัะฑะพัะบะธ ัะตะผ

## ๐ ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั ะทะฐะฟััะบะฐ

### 1. ะะพะดะณะพัะพะฒะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะัะฟะพะปะฝะธัะต ะผะธะณัะฐัะธะธ ั ัะธะดะตัะฐะผะธ
php artisan migrate:fresh --seed
```

ะญัะพ ัะพะทะดะฐัั:
- ะะฑะฝะพะฒะปะตะฝะฝัั ัะฐะฑะปะธัั `themes` ั ะฝะพะฒัะผะธ ะฟะพะปัะผะธ
- ะขะฐะฑะปะธัั `theme_configs` ะฒ ัะตะฝะฐะฝััะบะธั ะะ
- ะะฐะทะพะฒัะต ัะตะผั (Default ะธ Minimal)

### 2. ะกะบะฐะฝะธัะพะฒะฐะฝะธะต ัะตะผ

```bash
# ะกะบะฐะฝะธััะนัะต ะดะธัะตะบัะพัะธั ัะตะผ
php artisan theme:manage scan
```

ะญัะพ ะฝะฐะนะดะตั ะธ ะทะฐัะตะณะธัััะธััะตั ะฒัะต ัะตะผั ะฒ ะดะธัะตะบัะพัะธะธ `themes/`.

### 3. ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะปะตะฝะฝัั ัะตะผ

```bash
# ะะพัะผะพััะธัะต ัะฟะธัะพะบ ะดะพัััะฟะฝัั ัะตะผ
php artisan theme:manage list
```

ะั ะดะพะปะถะฝั ัะฒะธะดะตัั:
- Default Theme (ัะธััะตะผะฝะฐั)
- Minimal Theme

### 4. ะกะพะทะดะฐะฝะธะต ัะตััะพะฒะพะณะพ ะผะฐะณะฐะทะธะฝะฐ

```bash
# ะะพะนะดะธัะต ะฒ ัะธััะตะผั ะธ ัะพะทะดะฐะนัะต ะผะฐะณะฐะทะธะฝ ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั
# ะธะปะธ ะธัะฟะพะปัะทัะนัะต tinker
php artisan tinker
```

```php
// ะ tinker
$user = \App\Models\User::first();
$storeCreator = new \App\Services\StoreCreator();
$store = $storeCreator->create($user, 'Basic', null, null);
echo "Store created: " . $store->domains->first()->domain;
```

### 5. ะะบัะธะฒะฐัะธั ัะตะผั ะดะปั ัะตะฝะฐะฝัะฐ

ะะตัะตะนะดะธัะต ะฝะฐ ะดะพะผะตะฝ ะผะฐะณะฐะทะธะฝะฐ ะธ ะฒัะฟะพะปะฝะธัะต API ะทะฐะฟัะพั:

```bash
# ะะบัะธะฒะธััะนัะต ะผะธะฝะธะผะฐะปะธััะธัะฝัั ัะตะผั
curl -X POST http://[tenant-domain]/api/themes/activate \
  -H "Content-Type: application/json" \
  -d '{"package_name": "themes/minimal"}'
```

### 6. ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

1. **ะัะบัะพะนัะต ะผะฐะณะฐะทะธะฝ ะฒ ะฑัะฐัะทะตัะต**
2. **ะัะพะฒะตัััะต ะบะพะฝัะพะปั ัะฐะทัะฐะฑะพััะธะบะฐ** - ะดะพะปะถะฝั ะฑััั ัะพะพะฑัะตะฝะธั ะพ ะทะฐะณััะทะบะต ัะตะผั
3. **ะกะผะตะฝะธัะต ัะตะผั ัะตัะตะท API** ะธ ะฟะพัะผะพััะธัะต ะฝะฐ ะธะทะผะตะฝะตะฝะธั

## ๐จ ะกะพะทะดะฐะฝะธะต ัะพะฑััะฒะตะฝะฝะพะน ัะตะผั

### 1. ะกะพะทะดะฐะนัะต ะฝะพะฒัั ัะตะผั

```bash
php artisan make:theme "My Custom Theme" \
  --author="Your Name" \
  --description="My awesome custom theme" \
  --package="themes/custom"
```

### 2. ะะฐัััะพะนัะต ัะตะผั

ะัะบัะพะนัะต `themes/themes/custom/` ะธ ะพััะตะดะฐะบัะธััะนัะต:
- `theme.json` - ะผะฐะฝะธัะตัั ัะตะผั
- `config/default.json` - ะบะพะฝัะธะณััะฐัะธั ะฟะพ ัะผะพะปัะฐะฝะธั
- `resources/js/components/TenantApp.vue` - ะณะปะฐะฒะฝัะน ะบะพะผะฟะพะฝะตะฝั
- `resources/js/styles/theme.css` - ััะธะปะธ ัะตะผั

### 3. ะะฐัะตะณะธัััะธััะนัะต ัะตะผั

```bash
php artisan theme:manage scan
```

### 4. ะะบัะธะฒะธััะนัะต ัะตะผั

```bash
php artisan theme:manage activate themes/custom
```

## ๐ง ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะตะท API

### ะะพะปััะธัั ะฐะบัะธะฒะฝัั ัะตะผั ัะตะฝะฐะฝัะฐ
```http
GET /api/tenant/active-theme
```

### ะะพะปััะธัั ัะฟะธัะพะบ ะดะพัััะฟะฝัั ัะตะผ
```http
GET /api/themes
```

### ะะบัะธะฒะธัะพะฒะฐัั ัะตะผั
```http
POST /api/themes/activate
Content-Type: application/json

{
    "package_name": "themes/minimal",
    "config": {
        "colors": {
            "primary": "#000000"
        }
    }
}
```

### ะะฑะฝะพะฒะธัั ะบะพะฝัะธะณััะฐัะธั ัะตะผั
```http
PUT /api/theme/config
Content-Type: application/json

{
    "config": {
        "colors": {
            "primary": "#ff6b6b",
            "secondary": "#4ecdc4"
        }
    }
}
```

## ๐ฏ ะขะตััะธัะพะฒะฐะฝะธะต ัะธััะตะผั

### 1. ะัะพะฒะตัััะต ะทะฐะณััะทะบั ัะตะผ

ะัะบัะพะนัะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ ะฝะฐ ัััะฐะฝะธัะต ะผะฐะณะฐะทะธะฝะฐ:

```javascript
// ะัะพะฒะตัััะต ัะตะบัััั ัะตะผั
console.log('Current theme:', window.themeLoader?.getCurrentThemeInfo())

// ะัะพะฒะตัััะต ะทะฐะณััะถะตะฝะฝัะต ะบะพะผะฟะพะฝะตะฝัั
console.log('Components:', window.themeLoader?.getComponents())

// ะะตัะตะบะปััะธัะต ัะตะผั
await window.themeLoader?.switchTheme('themes/default')
```

### 2. ะัะพะฒะตัััะต ะบะพะฝัะธะณััะฐัะธั

```javascript
// ะะพะปััะธัะต ะบะพะฝัะธะณััะฐัะธั ัะตะผั
fetch('/api/theme/config')
  .then(r => r.json())
  .then(config => console.log('Theme config:', config))
```

### 3. ะัะพะฒะตัััะต ะฟะตัะตะบะปััะตะฝะธะต ัะตะผ

1. ะะบัะธะฒะธััะนัะต Default ัะตะผั
2. ะะบัะธะฒะธััะนัะต Minimal ัะตะผั
3. ะฃะฑะตะดะธัะตัั, ััะพ ััะธะปะธ ะธ ะบะพะผะฟะพะฝะตะฝัั ะผะตะฝััััั

## ๐ ะกัััะบัััะฐ ัะฐะนะปะพะฒ

ะะพัะปะต ัััะฐะฝะพะฒะบะธ ั ะฒะฐั ะดะพะปะถะฝะฐ ะฑััั ัะปะตะดัััะฐั ััััะบัััะฐ:

```
saasApp/
โโโ themes/
โ   โโโ themes/
โ       โโโ default/
โ       โ   โโโ theme.json
โ       โ   โโโ config/default.json
โ       โ   โโโ resources/js/
โ       โโโ minimal/
โ           โโโ theme.json
โ           โโโ config/default.json
โ           โโโ resources/js/
โโโ app/
โ   โโโ Models/
โ   โ   โโโ Theme.php (ะพะฑะฝะพะฒะปะตะฝ)
โ   โ   โโโ ThemeConfig.php (ะฝะพะฒัะน)
โ   โโโ Services/
โ   โ   โโโ ThemeManager.php (ะฝะพะฒัะน)
โ   โโโ Http/
โ   โ   โโโ Controllers/Api/
โ   โ   โ   โโโ ThemeController.php (ะฝะพะฒัะน)
โ   โ   โโโ Middleware/
โ   โ       โโโ ThemeAssetsMiddleware.php (ะฝะพะฒัะน)
โ   โโโ Console/Commands/
โ       โโโ ThemeManageCommand.php (ะฝะพะฒัะน)
โ       โโโ MakeThemeCommand.php (ะฝะพะฒัะน)
โโโ resources/js/
โ   โโโ themeLoader.js (ะฝะพะฒัะน)
โ   โโโ components/
โ   โ   โโโ ThemeComponent.vue (ะฝะพะฒัะน)
โ   โโโ tenant.js (ะพะฑะฝะพะฒะปะตะฝ)
โโโ database/
    โโโ migrations/
    โ   โโโ *_create_themes_table.php (ะพะฑะฝะพะฒะปะตะฝ)
    โโโ migrations/tenant/
    โ   โโโ *_create_theme_configs_table.php (ะฝะพะฒัะน)
    โโโ seeders/
        โโโ ThemeSeeder.php (ะฝะพะฒัะน)
```

## ๐ ะัะปะฐะดะบะฐ

### ะัะพะฑะปะตะผั ั ะทะฐะณััะทะบะพะน ัะตะผ

1. **ะัะพะฒะตัััะต ะปะพะณะธ Laravel**
```bash
tail -f storage/logs/laravel.log
```

2. **ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ** ะฝะฐ ะฝะฐะปะธัะธะต ะพัะธะฑะพะบ JavaScript

3. **ะัะพะฒะตัััะต, ััะพ ัะตะผะฐ ะทะฐัะตะณะธัััะธัะพะฒะฐะฝะฐ**
```bash
php artisan theme:manage list
```

4. **ะัะพะฒะตัััะต ัะฐะนะปั ัะตะผั**
```bash
php artisan theme:manage info themes/minimal
```

### ะัะพะฑะปะตะผั ั ะฐััะตัะฐะผะธ

1. **ะัะพะฒะตัััะต middleware** ะฒ `bootstrap/app.php`
2. **ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะนะปั ัะตะผั ัััะตััะฒััั**
3. **ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ ะบ ัะฐะนะปะฐะผ**

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- ๐ [ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ัะตะผะฐะผ](docs/THEMES.md)
- ๐๏ธ [ะััะธัะตะบัััะฐ ัะธััะตะผั](docs/ARCHITECTURE.md) 
- ๐จ [Frontend ะดะพะบัะผะตะฝัะฐัะธั](docs/FRONTEND.md)
- ๐ง [Backend ะดะพะบัะผะตะฝัะฐัะธั](docs/BACKEND.md)

## ๐ ะะพะทะดัะฐะฒะปัะตะผ!

ะกะธััะตะผะฐ ัะตะผ "Theme as a Package" ััะฟะตัะฝะพ ัััะฐะฝะพะฒะปะตะฝะฐ ะธ ะณะพัะพะฒะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั! 

ะขะตะฟะตัั ะฒั ะผะพะถะตัะต:
- โ ะกะพะทะดะฐะฒะฐัั ะฟะพะปะฝะพัััั ะธะทะพะปะธัะพะฒะฐะฝะฝัะต ัะตะผั
- โ ะะธะฝะฐะผะธัะตัะบะธ ะฟะตัะตะบะปััะฐัั ัะตะผั ะดะปั ัะตะฝะฐะฝัะพะฒ
- โ ะะฐัััะฐะธะฒะฐัั ะบะพะฝัะธะณััะฐัะธั ะบะฐะถะดะพะน ัะตะผั
- โ ะัะฟะพะปัะทะพะฒะฐัั ะผะพัะฝัะต Vue.js ะบะพะผะฟะพะฝะตะฝัั
- โ ะฃะฟัะฐะฒะปััั ัะตะผะฐะผะธ ัะตัะตะท API ะธ ะบะพะผะฐะฝะดั

Happy theming! ๐จ
