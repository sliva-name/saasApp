# –°–∏—Å—Ç–µ–º–∞ —Ç–µ–º "Theme as a Package"

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–º –¥–ª—è SaaS E-commerce –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π "Theme as a Package", –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–º—ã](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ç–µ–º—ã)
- [Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#backend-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#frontend-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#api-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
- [–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–º—ã](#—Å–æ–∑–¥–∞–Ω–∏–µ-–Ω–æ–≤–æ–π-—Ç–µ–º—ã)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ç–µ–º–∞–º–∏)
- [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
- [Troubleshooting](#troubleshooting)

## üèóÔ∏è –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è** - –∫–∞–∂–¥–∞—è —Ç–µ–º–∞ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
3. **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
4. **Fallback —Å–∏—Å—Ç–µ–º–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ default –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
5. **API-driven** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ REST API

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ Backend ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ Frontend ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚Ä¢ ThemeManager                ‚îÇ    ‚îÇ ‚Ä¢ ThemeLoader (composable)     ‚îÇ
‚îÇ ‚Ä¢ ThemeServiceProvider        ‚îÇ    ‚îÇ ‚Ä¢ ThemeComponent (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) ‚îÇ
‚îÇ ‚Ä¢ ThemeController (API)       ‚îÇ    ‚îÇ ‚Ä¢ useThemeConfig (composable)  ‚îÇ
‚îÇ ‚Ä¢ ThemeConfig (–º–æ–¥–µ–ª—å)        ‚îÇ    ‚îÇ ‚Ä¢ tenant.js (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)   ‚îÇ
‚îÇ ‚Ä¢ ThemeAssetsMiddleware       ‚îÇ    ‚îÇ                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–º—ã

–ö–∞–∂–¥–∞—è —Ç–µ–º–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `themes/themes/{theme_name}/`:

```
themes/themes/default/
‚îú‚îÄ‚îÄ theme.json              # –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Ç–µ–º—ã
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TenantApp.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Products.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ composables/    # Vue composables
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useThemeConfig.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/         # CSS —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ theme.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ assets/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ       ‚îú‚îÄ‚îÄ images/
‚îÇ       ‚îî‚îÄ‚îÄ fonts/
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ–º—ã
```

### –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Ç–µ–º—ã (theme.json)

```json
{
  "name": "Default Theme",
  "package_name": "themes/default",
  "version": "1.0.0",
  "description": "–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞",
  "author": "Your Company",
  "features": [
    "products",
    "categories", 
    "search",
    "cart",
    "checkout",
    "user-account"
  ],
  "config_schema": {
    "colors": {
      "primary": "#3b82f6",
      "secondary": "#64748b",
      "accent": "#ec4899"
    },
    "layout": {
      "header_fixed": true,
      "sidebar_enabled": true
    }
  },
  "dependencies": {
    "vue": "^3.0.0",
    "vue-router": "^4.0.0"
  },
  "preview_image": "/assets/preview.jpg"
}
```

## üîß Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ThemeManager

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞–º–∏:

```php
// app/Services/ThemeManager.php
class ThemeManager
{
    public function getActiveTheme(string $tenantId): ?Theme
    public function setThemeForTenant(string $tenantId, int $themeId): bool
    public function scanForThemes(): array
    public function validateTheme(string $themePath): bool
}
```

### ThemeController API

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–º–∞–º–∏:

```php
// –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
GET /api/tenant/active-theme      // –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é —Ç–µ–º—É —Ç–µ–Ω–∞–Ω—Ç–∞
GET /api/theme/components         // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã  
GET /api/themes/{packageName}     // –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–º–µ
```

### Models

**Theme** (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ë–î):
```php
class Theme extends Model
{
    protected $fillable = [
        'name', 'package_name', 'description', 
        'version', 'author', 'config_schema', 
        'is_active', 'preview_image'
    ];
}
```

**Store** (tenant –ë–î):
```php 
class Store extends Model
{
    // –°–≤—è–∑—å —Å —Ç–µ–º–æ–π —á–µ—Ä–µ–∑ theme_id
    public function theme(): BelongsTo
    {
        return $this->belongsTo(Theme::class);
    }
}
```

## ‚ö° Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ThemeLoader

–û—Å–Ω–æ–≤–Ω–æ–π composable –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–º:

```javascript
// resources/js/themeLoader.js
class ThemeLoader {
  async loadTheme(packageName)      // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–º—É
  async loadComponent(name, path)   // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  async loadThemeStyles(theme)      // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∏–ª–∏
  async loadThemeRoutes(theme)      // –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
}
```

### ThemeComponent

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ theme-specific –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```vue
<!-- resources/js/components/ThemeComponent.vue -->
<template>
  <component 
    :is="themeComponent" 
    v-bind="$attrs" 
    v-on="$listeners"
  />
</template>
```

### useThemeConfig

Composable –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Ç–µ–º—ã:

```javascript
// themes/themes/default/resources/js/composables/useThemeConfig.js
export function useThemeConfig() {
  const themeConfig = reactive({
    colors: { primary: '#3b82f6', ... },
    layout: { header_fixed: true, ... },
    branding: { site_name: 'Demo Store', ... }
  })
  
  return { themeConfig, updateConfig, resetConfig }
}
```

## üåê API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Ç–µ–º—ã

```http
GET /api/tenant/active-theme
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "package_name": "themes/default",
  "config": {
    "colors": {
      "primary": "#3b82f6",
      "secondary": "#64748b"
    },
    "layout": {
      "header_fixed": true,
      "sidebar_enabled": true
    },
    "branding": {
      "site_name": "Demo Store",
      "description": "Your amazing online store"
    }
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç–µ–º—ã

```http
GET /api/theme/components
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "TenantApp": "/themes/themes/default/resources/js/components/TenantApp.vue",
  "ProductCard": "/themes/themes/default/resources/js/components/ProductCard.vue",
  "Header": "/themes/themes/default/resources/js/components/Header.vue",
  "Home": "/themes/themes/default/resources/js/pages/Home.vue",
  "Products": "/themes/themes/default/resources/js/pages/Products.vue"
}
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–º–µ

```http
GET /api/themes/{packageName}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "name": "Default Theme", 
  "package_name": "themes/default",
  "description": "–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞",
  "version": "1.0.0",
  "author": "Your Company",
  "config_schema": {...},
  "is_active": true,
  "preview_image": "/themes/default/assets/preview.jpg"
}
```

## üé® –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–º—ã

### 1. –ß–µ—Ä–µ–∑ Artisan –∫–æ–º–∞–Ω–¥—É

```bash
php artisan make:theme "My Custom Theme"
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç:
- –ë–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
- –§–∞–π–ª `theme.json` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ó–∞–≥–æ—Ç–æ–≤–∫–∏ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ CSS

### 2. –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

1. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ç–µ–º—ã:**
```bash
mkdir -p themes/themes/my-theme/resources/js/{components,pages,composables,styles}
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç `theme.json`:**
```json
{
  "name": "My Custom Theme",
  "package_name": "themes/my-theme", 
  "version": "1.0.0",
  "description": "–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞",
  "features": ["products", "cart"],
  "config_schema": {
    "colors": {
      "primary": "#ff6b6b"
    }
  }
}
```

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ `index.js`:**
```javascript
export const components = {
  TenantApp: () => import('./components/TenantApp.vue'),
  Header: () => import('./components/Header.vue')
}

export const routes = [
  { path: '/', component: () => import('./pages/Home.vue') }
]

export const hooks = {
  beforeMount() {
    console.log('[My Theme] Initializing...')
  },
  mounted() {
    console.log('[My Theme] Mounted successfully')
  }
}
```

4. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ç–µ–º—É –≤ –ë–î:**
```php
Theme::create([
    'name' => 'My Custom Theme',
    'package_name' => 'themes/my-theme',
    'description' => '–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞',
    'version' => '1.0.0',
    'is_active' => true
]);
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏

### Artisan –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ–º –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
php artisan theme:manage scan

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–º
php artisan theme:manage list  

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–º—ã
php artisan make:theme "Theme Name"
```

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (MoonShine)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Admin ‚Üí Themes**
2. **–°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É** - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** - –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. **–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É

### –ü—Ä–∏–≤—è–∑–∫–∞ —Ç–µ–º—ã –∫ –º–∞–≥–∞–∑–∏–Ω—É

```php
// –í –∫–æ–¥–µ
$store = Store::find($storeId);
$store->theme_id = $themeId;
$store->save();

// –ß–µ—Ä–µ–∑ API
PUT /api/stores/{id}
{
  "theme_id": 2
}
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Ç–µ–º

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
php artisan migrate:fresh --seed

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—ã
php artisan theme:manage scan
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vite

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `vite.config.js` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤:

```javascript
export default defineConfig({
  build: {
    rollupOptions: {
      external: [], 
      output: {
        manualChunks: undefined
      }
    }
  },
  server: {
    fs: {
      allow: ['..', './themes']
    }
  }
})
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

–î–ª—è production —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Ç–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã:

```nginx
# Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
location /themes/ {
    alias /path/to/your/app/themes/;
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–µ–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (404 –æ—à–∏–±–∫–∏)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
GET /api/themes/themes%2Fminimal 404 (Not Found)
[ThemeLoader] Failed to load theme: Error: Theme not found
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ–º–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î:
```sql
SELECT * FROM themes WHERE package_name = 'themes/minimal';
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã —Ç–µ–º—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
```bash
ls -la themes/themes/minimal/
```

3. –ü–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ç–µ–º—É:
```bash
php artisan theme:manage scan
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
```
[ThemeLoader] Failed to load component: TypeError: Failed to fetch
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ API:
```bash
curl http://your-domain.com/api/theme/components
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—É—Ç—è–º

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** –¢–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ CSS —Ñ–∞–π–ª –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
```javascript
// –í –±—Ä–∞—É–∑–µ—Ä–µ DevTools ‚Üí Network
// –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ theme.css
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CSS –ø—Ä–∞–≤–∏–ª–∞ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è:
```css
/* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã */
.theme-minimal .header { ... }
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª–∞—Å—Å —Ç–µ–º—ã –¥–æ–±–∞–≤–ª–µ–Ω –∫ body:
```html
<body class="theme-minimal">
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**Debugging:**

1. –í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤ `tenant.js`:
```javascript
const DEBUG = true; // –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Laravel –ª–æ–≥–∏:
```bash
tail -f storage/logs/laravel.log
```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vue DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: Tenant –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Å–≤–æ—é —Ç–µ–º—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑—å Store ‚Üí Theme:
```php
$store = tenant();
dd($store->theme_id, $store->theme);
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ theme_id —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü–µ stores

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞:
```sql
SELECT * FROM themes WHERE id = ? AND is_active = 1;
```

## üìù –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

- **–¢–µ–º—ã:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ kebab-case (`my-awesome-theme`)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** PascalCase (`ProductCard.vue`)
- **CSS –∫–ª–∞—Å—Å—ã:** BEM –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è (`.product-card__title`)

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **lazy loading** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö—ç—à–∏—Ä—É–π—Ç–µ** –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ** CSS –∏ JS –≤ production

### 3. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°–ª–µ–¥—É–π—Ç–µ **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é**
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ **breaking changes**
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–º—ã –Ω–∞ **—Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö**

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –≤ —Ç–µ–º–∞—Ö
- **–≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ** –¥–æ—Å—Ç—É–ø –∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º API

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ–º—ã](THEME_CREATION_GUIDE.md)
- [API Reference](API_REFERENCE.md)  
- [Migration Guide](MIGRATION_GUIDE.md)
- [FAQ](FAQ.md)