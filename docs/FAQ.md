# FAQ - Theme System

–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ç–µ–º "Theme as a Package".

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã](#–æ–±—â–∏–µ-–≤–æ–ø—Ä–æ—Å—ã)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–º](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-—Ç–µ–º)
- [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [Troubleshooting](#troubleshooting)
- [–ú–∏–≥—Ä–∞—Ü–∏—è](#–º–∏–≥—Ä–∞—Ü–∏—è)

## üîç –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ß—Ç–æ —Ç–∞–∫–æ–µ "Theme as a Package"?

**A:** –≠—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –≥–¥–µ –∫–∞–∂–¥–∞—è —Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç —Å–æ —Å–≤–æ–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Å—Ç–∏–ª—è–º–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –ª–æ–≥–∏–∫–æ–π. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è** - —Ç–µ–º—ã –Ω–µ –≤–ª–∏—è—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- ‚úÖ **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –∫–∞–∂–¥–∞—è —Ç–µ–º–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞

### Q: –ß–µ–º —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö —Ç–µ–º?

**A:** –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤:

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û–±—ã—á–Ω—ã–µ —Ç–µ–º—ã | Theme as a Package |
|----------|--------------|-------------------|
| **–ò–∑–æ–ª—è—Ü–∏—è** | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | –ü–æ–ª–Ω–∞—è |
| **–ó–∞–≥—Ä—É–∑–∫–∞** | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è |
| **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | –ñ–µ—Å—Ç–∫–∞—è | –ì–∏–±–∫–∞—è |
| **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å** | –°–ª–æ–∂–Ω–∞—è | –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è |
| **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** | –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è | –ú–æ–¥—É–ª—å–Ω–∞—è |

### Q: –ü–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ —ç—Ç–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤?

**A:** –î–∞, —Å–∏—Å—Ç–µ–º–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º:

- üè¢ **Enterprise ready** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ã—Å—è—á tenant'–æ–≤
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - lazy loading –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- üîß **DevOps friendly** - –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- üß™ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–º

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### Q: –ö–∞–∫–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è?

**A:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

```bash
# Backend
PHP: 8.2+
Laravel: 11+
MySQL: 8.0+ –∏–ª–∏ PostgreSQL: 13+
Redis: 6.0+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

# Frontend
Node.js: 18+
Vue.js: 3.0+
Vite: 4.0+
```

### Q: –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç–µ–º –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç?

**A:** –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
php artisan migrate:fresh --seed

# 2. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
php artisan vendor:publish --provider="App\Providers\ThemeServiceProvider"

# 3. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
php artisan theme:manage scan

# 4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm install && npm run build
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [Migration Guide](MIGRATION_GUIDE.md)

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏?

**A:** –î–∞, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É:

```css
/* Tailwind CSS */
.btn-primary {
  @apply bg-blue-500 text-white px-4 py-2 rounded;
}

/* Bootstrap */
.btn-primary {
  background-color: var(--color-primary);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
}

/* Custom CSS */
.btn-primary {
  background: var(--color-primary);
  color: var(--color-white);
  padding: var(--spacing-2) var(--spacing-4);
}
```

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ TypeScript?

**A:** –î–∞, –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript:

```typescript
// themes/my-theme/resources/js/types.ts
export interface ThemeConfig {
  colors: {
    primary: string
    secondary: string
  }
  layout: {
    headerFixed: boolean
  }
}

// themes/my-theme/resources/js/composables/useThemeConfig.ts
import { reactive, Ref } from 'vue'
import type { ThemeConfig } from '../types'

export function useThemeConfig(): {
  themeConfig: Ref<ThemeConfig>
  updateConfig: (path: string, value: any) => void
} {
  // ...
}
```

## üé® –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–º

### Q: –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Artisan –∫–æ–º–∞–Ω–¥—É:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–º—ã
php artisan make:theme "My Awesome Theme"

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# themes/themes/my-awesome-theme/
# ‚îú‚îÄ‚îÄ theme.json
# ‚îú‚îÄ‚îÄ resources/js/
# ‚îÇ   ‚îú‚îÄ‚îÄ components/
# ‚îÇ   ‚îú‚îÄ‚îÄ pages/
# ‚îÇ   ‚îú‚îÄ‚îÄ composables/
# ‚îÇ   ‚îî‚îÄ‚îÄ index.js
# ‚îî‚îÄ‚îÄ README.md
```

### Q: –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Ç–µ–º–µ?

**A:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
themes/themes/my-theme/resources/js/
‚îú‚îÄ‚îÄ components/           # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ base/            # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.vue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.vue
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Modal.vue
‚îÇ   ‚îú‚îÄ‚îÄ layout/          # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.vue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.vue
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.vue
‚îÇ   ‚îî‚îÄ‚îÄ features/        # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ ProductCard.vue
‚îÇ       ‚îú‚îÄ‚îÄ CartButton.vue
‚îÇ       ‚îî‚îÄ‚îÄ SearchBar.vue
‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ Home.vue
‚îÇ   ‚îú‚îÄ‚îÄ Products.vue
‚îÇ   ‚îî‚îÄ‚îÄ Cart.vue
‚îú‚îÄ‚îÄ composables/         # Vue composables
‚îÇ   ‚îú‚îÄ‚îÄ useThemeConfig.js
‚îÇ   ‚îú‚îÄ‚îÄ useCart.js
‚îÇ   ‚îî‚îÄ‚îÄ useAuth.js
‚îî‚îÄ‚îÄ styles/              # –°—Ç–∏–ª–∏
    ‚îú‚îÄ‚îÄ theme.css
    ‚îú‚îÄ‚îÄ components.css
    ‚îî‚îÄ‚îÄ utilities.css
```

### Q: –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–π?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ schema –≤ `theme.json`:

```json
{
  "config_schema": {
    "colors": {
      "primary": {
        "type": "color",
        "default": "#3b82f6",
        "label": "–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç",
        "description": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ —Å—Å—ã–ª–æ–∫"
      },
      "secondary": {
        "type": "color", 
        "default": "#64748b",
        "label": "–í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç"
      }
    },
    "layout": {
      "header_fixed": {
        "type": "boolean",
        "default": true,
        "label": "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
      },
      "max_width": {
        "type": "select",
        "options": ["1200px", "1400px", "1600px"],
        "default": "1200px",
        "label": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞"
      }
    },
    "features": {
      "dark_mode": {
        "type": "boolean",
        "default": false,
        "label": "–¢–µ–º–Ω–∞—è —Ç–µ–º–∞"
      }
    }
  }
}
```

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å custom CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?

**A:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `theme.css`:

```css
:root {
  /* –¶–≤–µ—Ç–∞ */
  --color-primary: #3b82f6;
  --color-secondary: #64748b;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  /* –†–∞–∑–º–µ—Ä—ã */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 3rem;
  
  /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
  --font-family-sans: 'Inter', sans-serif;
  --font-family-serif: 'Georgia', serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  
  /* –ü–µ—Ä–µ—Ö–æ–¥—ã */
  --transition-fast: 0.15s ease;
  --transition-base: 0.3s ease;
  --transition-slow: 0.5s ease;
  
  /* –¢–µ–Ω–∏ */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
.theme-dark {
  --color-primary: #818cf8;
  --color-background: #0f172a;
  --color-surface: #1e293b;
  --color-text: #f1f5f9;
}
```

### Q: –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ?

**A:** –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# 1. –ß–µ—Ä–µ–∑ Artisan –∫–æ–º–∞–Ω–¥—ã
php artisan theme:manage list
php artisan theme:test my-theme

# 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ tenant'–∞
php artisan tinker
>>> $store = Store::first()
>>> $theme = Theme::where('package_name', 'themes/my-theme')->first()
>>> $store->theme_id = $theme->id
>>> $store->save()

# 3. –ß–µ—Ä–µ–∑ API
curl -X PUT http://localhost:8000/api/tenant/theme \
  -H "Content-Type: application/json" \
  -d '{"theme_id": 2}'
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Q: –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ç–µ–º?

**A:** –ù–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

#### 1. Lazy Loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```javascript
// –ü–ª–æ—Ö–æ - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Å—Ä–∞–∑—É
import ProductCard from './components/ProductCard.vue'
import ProductGrid from './components/ProductGrid.vue'

// –•–æ—Ä–æ—à–æ - lazy loading
export const components = {
  ProductCard: () => import(/* webpackChunkName: "product-card" */ './components/ProductCard.vue'),
  ProductGrid: () => import(/* webpackChunkName: "product-grid" */ './components/ProductGrid.vue')
}
```

#### 2. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```javascript
export const hooks = {
  beforeMount() {
    // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    Promise.all([
      import('./components/Header.vue'),
      import('./components/Footer.vue'),
      import('./components/Navigation.vue')
    ])
  }
}
```

#### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
class ThemeLoader {
  constructor() {
    this.componentCache = new Map()
    this.themeCache = new Map()
  }
  
  async loadComponent(name, path) {
    if (this.componentCache.has(name)) {
      return this.componentCache.get(name)
    }
    
    const component = await import(path)
    this.componentCache.set(name, component)
    return component
  }
}
```

### Q: –í–ª–∏—è–µ—Ç –ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?

**A:** –ù–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—É—é —Ç–µ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tenant'–∞:

- üöÄ **Lazy loading** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è
- üéØ **–ò–∑–æ–ª—è—Ü–∏—è** - –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ–º—ã –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üì¶ **Code splitting** - Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–¥

### Q: –ö–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ–º?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

```javascript
// –í hooks —Ç–µ–º—ã
export const hooks = {
  beforeMount() {
    performance.mark('theme-load-start')
  },
  
  mounted() {
    performance.mark('theme-load-end')
    performance.measure('theme-load-time', 'theme-load-start', 'theme-load-end')
    
    const measure = performance.getEntriesByName('theme-load-time')[0]
    console.log(`Theme loaded in ${measure.duration}ms`)
  }
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –ø–æ–∑–≤–æ–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ–º—ã?

**A:** –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ - –¥–∞. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

#### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–º

```php
// app/Services/ThemeValidator.php
class ThemeValidator
{
    public function validateTheme(string $themePath): array
    {
        $errors = [];
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤
        if (!file_exists($themePath . '/theme.json')) {
            $errors[] = 'theme.json –Ω–µ –Ω–∞–π–¥–µ–Ω';
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
        $dangerousFiles = ['.php', '.exe', '.sh'];
        foreach ($dangerousFiles as $ext) {
            if (glob($themePath . '/**/*' . $ext)) {
                $errors[] = "–ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: {$ext}";
            }
        }
        
        return $errors;
    }
}
```

#### 2. Sandbox –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```javascript
// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º
const createSafeEnvironment = () => {
  const sandbox = {
    console: {
      log: (...args) => console.log('[Theme]', ...args),
      error: (...args) => console.error('[Theme]', ...args)
    },
    // –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ API
    fetch: window.fetch.bind(window),
    localStorage: window.localStorage
    // window, document –∏ –¥—Ä—É–≥–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
  }
  
  return sandbox
}
```

#### 3. CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏

```php
// app/Http/Middleware/ThemeSecurityMiddleware.php
public function handle($request, Closure $next)
{
    $response = $next($request);
    
    $response->headers->set('Content-Security-Policy', 
        "default-src 'self'; " .
        "script-src 'self' 'unsafe-inline' /themes/; " .
        "style-src 'self' 'unsafe-inline' /themes/; " .
        "img-src 'self' data: /themes/;"
    );
    
    return $response;
}
```

### Q: –ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —Ç–µ–º—ã –æ—Ç XSS –∞—Ç–∞–∫?

**A:** –ù–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –∑–∞—â–∏—Ç—ã:

#### 1. –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```vue
<template>
  <!-- –ü–ª–æ—Ö–æ - –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å JS -->
  <div v-html="userContent"></div>
  
  <!-- –•–æ—Ä–æ—à–æ - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–≤–æ–¥ -->
  <div>{{ sanitizeHtml(userContent) }}</div>
</template>

<script>
import DOMPurify from 'dompurify'

export default {
  methods: {
    sanitizeHtml(html) {
      return DOMPurify.sanitize(html)
    }
  }
}
</script>
```

#### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```php
// app/Http/Requests/UpdateThemeConfigRequest.php
class UpdateThemeConfigRequest extends FormRequest
{
    public function rules()
    {
        return [
            'colors.primary' => 'required|regex:/^#[0-9A-Fa-f]{6}$/',
            'branding.site_name' => 'required|string|max:100|alpha_num_spaces',
            'layout.max_width' => 'required|in:1200px,1400px,1600px'
        ];
    }
}
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º API?

**A:** –î–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware –∏ permissions:

```php
// routes/tenant.php
Route::middleware(['theme.access'])->group(function () {
    Route::get('/api/products', [ProductController::class, 'index']);
    Route::get('/api/categories', [CategoryController::class, 'index']);
});

// app/Http/Middleware/ThemeAccessMiddleware.php
public function handle($request, Closure $next)
{
    $store = tenant();
    $theme = $store->theme;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–µ–º—ã
    $allowedFeatures = $theme->config_schema['features'] ?? [];
    $requestedFeature = $this->getFeatureFromRoute($request->route());
    
    if (!in_array($requestedFeature, $allowedFeatures)) {
        return response()->json(['error' => 'Feature not allowed'], 403);
    }
    
    return $next($request);
}
```

## üõ†Ô∏è Troubleshooting

### Q: –¢–µ–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —á—Ç–æ –¥–µ–ª–∞—Ç—å?

**A:** –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

```javascript
// –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console
// –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
[ThemeLoader] Failed to load theme: Error: Theme not found
GET /api/themes/my-theme 404 (Not Found)
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é —Ç–µ–º—É
curl http://your-domain.com/api/tenant/active-theme

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
curl http://your-domain.com/api/theme/components

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–µ–º—É
curl http://your-domain.com/api/themes/themes%2Fmy-theme
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã —Ç–µ–º—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
ls -la themes/themes/my-theme/
ls -la themes/themes/my-theme/theme.json
ls -la themes/themes/my-theme/resources/js/index.js
```

#### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ–º–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
SELECT * FROM themes WHERE package_name = 'themes/my-theme';

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–≤—è–∑–∫—É –∫ store
SELECT s.id, s.name, s.theme_id, t.name as theme_name 
FROM stores s 
LEFT JOIN themes t ON s.theme_id = t.id 
WHERE s.id = 'your-tenant-id';
```

### Q: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –Ω–æ —Å—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**A:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É CSS:

#### 1. –í Network tab –±—Ä–∞—É–∑–µ—Ä–∞

```
DevTools ‚Üí Network ‚Üí CSS
–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ theme.css
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
getComputedStyle(document.documentElement).getPropertyValue('--color-primary')
// –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Ü–≤–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä: "#3b82f6"
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª–∞—Å—Å —Ç–µ–º—ã

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
document.body.classList
// –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ "theme-my-theme"
```

### Q: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –¥–ª—è —Ç–µ–º

**A:** –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω:

#### 1. –¢–µ–º–∞ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ë–î

```bash
php artisan theme:manage scan
php artisan theme:manage list
```

#### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π package_name

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ theme.json
cat themes/themes/my-theme/theme.json | grep package_name

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "package_name": "themes/my-theme"
```

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å URL encoding

```javascript
// –í JavaScript –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ encodeURIComponent
const packageName = encodeURIComponent('themes/my-theme')
fetch(`/api/themes/${packageName}`)
```

### Q: –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Vite

**A:** –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. Dynamic imports

```javascript
// –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π @vite-ignore
const component = await import(/* @vite-ignore */ `/themes/${packageName}/component.vue`)
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vite

```javascript
// vite.config.js
export default defineConfig({
  server: {
    fs: {
      allow: ['..', './themes']  // –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ themes
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: undefined  // –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
      }
    }
  }
})
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

### Q: –ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–µ–º—É?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [Migration Guide](MIGRATION_GUIDE.md) –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
php artisan make:command MigrateTheme

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π
php artisan theme:migrate --from=resources/js --to=themes/my-theme
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ —Ç–µ–º—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?

**A:** –î–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è:

```javascript
// tenant.js - fallback —Å–∏—Å—Ç–µ–º–∞
const initializeApp = async () => {
  try {
    // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Ç–µ–º
    const themeLoader = new ThemeLoader()
    const theme = await themeLoader.loadTheme(themeName)
    
    // –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–æ–≤–æ–π —Ç–µ–º–æ–π
    const app = createApp(ThemeComponent, { theme })
    app.mount('#app')
    
  } catch (error) {
    console.warn('[TenantApp] New theme system failed, falling back to legacy')
    
    // Fallback –Ω–∞ —Å—Ç–∞—Ä—É—é —Å–∏—Å—Ç–µ–º—É
    const { createApp } = await import('vue')
    const LegacyApp = await import('./LegacyApp.vue')
    
    createApp(LegacyApp.default).mount('#app')
  }
}
```

### Q: –°–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏?

**A:** –î–∞, –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏:

- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è
- ‚úÖ **–§–∞–π–ª—ã** - —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ **API** - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–∞—à –≤–æ–ø—Ä–æ—Å –Ω–µ –æ—Å–≤–µ—â–µ–Ω –≤ FAQ:

1. **üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [THEMES.md](THEMES.md)
2. **üîß API Reference:** [API_REFERENCE.md](API_REFERENCE.md)
3. **üöÄ Migration Guide:** [MIGRATION_GUIDE.md](MIGRATION_GUIDE.md)
4. **üé® Creation Guide:** [THEME_CREATION_GUIDE.md](THEME_CREATION_GUIDE.md)
5. **üí¨ Support:** support@yourcompany.com

**–£–¥–∞—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç–µ–º!** üéâ
